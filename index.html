<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Monte Carlo - Apostas Esportivas</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Simulador Monte Carlo</h1>
            <p>Simula√ß√£o de Apostas Esportivas com Stake Acumulativa</p>
            <button id="themeToggle" class="theme-toggle">üåô</button>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Form Section -->
            <section class="form-section">
                <h2>‚öôÔ∏è Par√¢metros da Simula√ß√£o</h2>
                <form id="simulationForm" class="simulation-form">
                    <div class="form-grid">
                        <!-- Primeira linha: 4 campos principais -->
                        <div class="form-group">
                            <label for="stakeInicial">Stake Inicial (R$)</label>
                            <input type="number" id="stakeInicial" min="1" step="0.01" value="100.00" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="qtdApostas">Apostas por Simula√ß√£o</label>
                            <input type="number" id="qtdApostas" min="1" max="1000" value="100" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="numSimulacoes">N√∫mero de Simula√ß√µes</label>
                            <input type="number" id="numSimulacoes" min="10" max="10000" value="1000" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="chancePerda">Chance de Perda (%)</label>
                            <input type="number" id="chancePerda" min="0" max="100" step="0.1" value="20" required>
                        </div>
                        
                        <!-- Segunda linha: 4 campos de taxa -->
                        <div class="form-group">
                            <label for="lucroMin">Taxa Lucro M√≠n. (%)</label>
                            <input type="number" id="lucroMin" min="0" max="100" step="0.01" value="6" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="lucroMax">Taxa Lucro M√°x. (%)</label>
                            <input type="number" id="lucroMax" min="0" max="100" step="0.01" value="9" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="prejuizoMin">Taxa Preju√≠zo M√≠n. (%)</label>
                            <input type="number" id="prejuizoMin" min="0" max="100" step="0.01" value="10" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="prejuizoMax">Taxa Preju√≠zo M√°x. (%)</label>
                            <input type="number" id="prejuizoMax" min="0" max="100" step="0.01" value="12" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary" id="runSimulation">
                        üöÄ Executar Simula√ß√£o
                    </button>
                </form>
                
                <div id="loadingIndicator" class="loading-indicator hidden">
                    <div class="spinner"></div>
                    <p>Executando simula√ß√µes...</p>
                </div>
            </section>

            <!-- Results Section -->
            <section id="resultsSection" class="results-section hidden">
                <h2>üìä Resultados da Simula√ß√£o</h2>
                
                <!-- Statistics -->
                <div class="statistics-grid">
                    <div class="stat-card worst-case">
                        <div class="stat-icon">üìâ</div>
                        <h3>Pior Cen√°rio</h3>
                        <div class="stat-value" id="statMinimo">R$ 0,00</div>
                        <div class="stat-label">Capital Final M√≠nimo</div>
                    </div>
                    
                    <div class="stat-card best-case">
                        <div class="stat-icon">üìà</div>
                        <h3>Melhor Cen√°rio</h3>
                        <div class="stat-value" id="statMaximo">R$ 0,00</div>
                        <div class="stat-label">Capital Final M√°ximo</div>
                    </div>
                    
                    <div class="stat-card average">
                        <div class="stat-icon">üéØ</div>
                        <h3>M√©dia</h3>
                        <div class="stat-value" id="statMedia">R$ 0,00</div>
                        <div class="stat-label">Capital Final M√©dio</div>
                    </div>
                    
                    <div class="stat-card median">
                        <div class="stat-icon">üìä</div>
                        <h3>Mediana</h3>
                        <div class="stat-value" id="statMediana">R$ 0,00</div>
                        <div class="stat-label">Capital Final Central</div>
                    </div>
                    
                    <div class="stat-card deviation">
                        <div class="stat-icon">üìè</div>
                        <h3>Desvio Padr√£o</h3>
                        <div class="stat-value" id="statDesvio">R$ 0,00</div>
                        <div class="stat-label">Variabilidade dos Resultados</div>
                    </div>
                    
                    <div class="stat-card success-rate">
                        <div class="stat-icon">‚úÖ</div>
                        <h3>Acima da M√©dia</h3>
                        <div class="stat-value" id="statAcimaMedia">0 (0%)</div>
                        <div class="stat-label">Simula√ß√µes com Sucesso</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-container">
                    <div class="chart-wrapper">
                        <h3>üìä Distribui√ß√£o dos Capitais Finais</h3>
                        <canvas id="histogramChart"></canvas>
                    </div>
                    
                    <div class="chart-wrapper">
                        <h3>üìà Evolu√ß√£o do Capital (Todas as Simula√ß√µes)</h3>
                        <canvas id="evolutionChart"></canvas>
                    </div>
                </div>

                <!-- Individual Simulation Table -->
                <div class="table-section">
                    <button id="showTableBtn" class="btn-secondary">
                        üìã Mostrar Simula√ß√£o Individual Detalhada
                    </button>
                    
                    <div id="tableContainer" class="table-container hidden">
                        <h3>üîç Simula√ß√£o Individual Detalhada</h3>
                        <div class="table-wrapper">
                            <table id="simulationTable">
                                <thead>
                                    <tr>
                                        <th>Aposta #</th>
                                        <th>Resultado</th>
                                        <th>Taxa (%)</th>
                                        <th>Valor (R$)</th>
                                        <th>Capital Final (R$)</th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Desenvolvido com ‚ù§Ô∏è para an√°lise de risco em apostas esportivas</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>